fixed xyz and added some other fixes